"use strict";var handyJS={},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};handyJS.ajax={},handyJS.ajax.request=function(e){var n=this,t=function(){};if(n.xhr=new XMLHttpRequest,void 0===e.method?e.method="GET":e.method=e.method.toUpperCase(),void 0===e.async&&(e.async=!0),e.data){if(!Array.isArray(e.data))throw Error("Option.data must be an Array.");0===e.data.length?e.segments=null:"POST"===e.method?e.data.forEach(function(n){if(null===n)throw Error("Do not send null variable.");if("object"!==("undefined"==typeof n?"undefined":_typeof(n)))throw Error("You have to use {key: value} structure to send data.");for(var t in n)if(n.hasOwnProperty(t)){if(void 0===n[t])continue;if(n[t]instanceof Blob){if(void 0===e.enctype){e.enctype="FORMDATA";break}if("FORMDATA"!==e.enctype.toUpperCase())throw Error("You have to set dataForm to 'FormData' because you about to send file, or just ignore this property.")}void 0===e.enctype&&(e.enctype="URLENCODE")}}):e.enctype="URLINLINE"}else e.segments=null;var o=function(e){if(null===e)return"";if(void 0===e)return"";switch("undefined"==typeof e?"undefined":_typeof(e)){case"object":return e instanceof Blob?e:JSON.stringify(e);case"string":return e;default:return e}},r=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})};switch(e.onProgress=e.onProgress||t,e.onComplete=e.onComplete||t,e.onFailed=e.onFailed||t,e.onCanceled=e.onCanceled||t,e.onLoadEnd=e.onLoadEnd||t,n.xhr.addEventListener("progress",e.onProgress),n.xhr.addEventListener("load",e.onComplete),n.xhr.addEventListener("error",e.onFailed),n.xhr.addEventListener("abort",e.onCanceled),n.xhr.addEventListener("loadend",e.onLoadEnd),n.xhr.open(e.method,e.url,e.async,e.user,e.password),e.enctype.toUpperCase()){case"FORMDATA":console.log("Encode data as FormData type."),e.segments=new FormData,e.data.forEach(function(n){if(n.fileName)for(var t in n)n.hasOwnProperty(t)&&"fileName"!==t&&e.segments.append(t,n[t],n.fileName);else for(var t in n)n.hasOwnProperty(t)&&e.segments.append(t,o(n[t]))});break;case"URLINLINE":console.log("Encode data as url inline type."),e.segments=null,e.data.forEach(function(n,t){for(var a in n)if(n.hasOwnProperty(a)){var s=r(o(n[a]));0===t?e.url=e.url+"?"+s:e.url=e.url+"&"+s}});break;case"URLENCODE":console.log("Encode data as url encode type."),n.xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.segments="",e.data.forEach(function(n,t){for(var a in n)if(n.hasOwnProperty(a)){var s=r(o(n[a]));0===t?e.segments=e.segments+a+"="+s:e.segments=e.segments+"&"+a+"="+s}})}n.xhr.send(e.segments)},handyJS.ajax.post=function(e,n,t){var o=this;o.request({method:"POST",url:e,data:n,onComplete:function(){var e=handyJS.string.removeWhitespace(this.getResponseHeader("content-type").toLowerCase()).split(";");t(-1===e.indexOf("application/json")?this.responseText:JSON.parse(this.responseText))}})},handyJS.file={},handyJS.file.getExtension=function(e){return e.slice((Math.max(0,e.lastIndexOf("."))||1/0)+1)},handyJS.file.changeName=function(e,n){var t=this.getExtension(e);return n+"."+t},handyJS.string={},handyJS.string.removeAllSpace=function(e){return e.replace(/\s/g,"")},handyJS.string.removeWhitespace=function(e){return e.replace(/ /g,"")};